<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>一键三连</title>
		<style>
			body{
				display: flex;
				justify-content: center;
				align-items: center;
				height: 100vh;
				overflow: hidden;
			}
			
			label{
				position: relative;
			}
			
			svg{
				width: 200px;
				
			}
			
			/*设置中间心的基本样式*/
			#heart{
				fill: #eee;
				stroke: #f00;
				stroke-dasharray: 1600;
				stroke-dashoffset: 1600;
				stroke-width: 20px;
				stroke-linecap: round;
				cursor: pointer;
			}
			
			/*绘制心的原点*/
			span,span::after{
				display: block;
				background-color: transparent;
				width: 20px;
				height: 20px;
				border-radius: 50%;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%,-50%) scale(0);
				/*设置阴影来实现周围圆点*/
				box-shadow: 150px 0 #f00,-150px 0 #f00,0 150px #f00,0 -150px #f00;
			}
			
			span::after{
				content: '';
				transform: translate(-50%,-50%) rotate(45deg) scale(0);
			}
			
			input[type="checkbox"] {
				display: none;
			}
			
			/*为心添加边框动画*/
			input[type="checkbox"]:checked + svg #heart{
				animation: 1s draw-heart linear forwards;
			}
			
			/*为圆点添加动画*/
			input[type="checkbox"]:checked ~ span{
				animation: 0.5s blink-span ease-in-out forwards .85s;
			}
			
			input[type="checkbox"]:checked ~ span::after{
				animation: 0.5s blink-span-after ease-in-out forwards .85s;
			}
			
			/*为心添加弹性效果*/
			input[type="checkbox"]:checked + svg{
				animation: 1s pop linear forwards;
			}
			
			/*设置边框动画*/
			@keyframes draw-heart{
				0%{
					stroke-dashoffset: 1600;
				}
				80%{
					stroke-dashoffset: 0;
					fill: #eee;
				}
				100%{
					stroke-dashoffset: 0;
					fill: #f00;
				}
			}
			
			/*设置周围圆点的动画*/
			@keyframes blink-span{
				0%{
					transform: translate(-50%,-50%) scale(0.5);
					opacity: 0.8;
				}
				80%{
					transform: translate(-50%,-50%) scale(1);
					opacity: 0.8;
				}
				100%{
					transform: translate(-50%,-50%) scale(1);
					opacity: 0;
				}
			}
			
			@keyframes blink-span-after{
				0%{
					transform: translate(-50%,-50%) rotate(45deg) scale(0.5);
					opacity: 0.8;
				}
				80%{
					transform: translate(-50%,-50%) rotate(45deg) scale(1);
					opacity: 0.8;
				}
				100%{
					transform: translate(-50%,-50%) rotate(45deg) scale(1);
					opacity: 0;
				}
			}
			
			/*设置点击变大*/
			@keyframes pop{
				0%{
					transform: scale(1);
				}
				70%{
					transform: scale(1);
				}
				80%{
					transform: scale(1.2);
				}
				100%{
					transform: scale(1);
				}
			}
		</style>
	</head>
	<body>
		<label>
		  <input type="checkbox">
		  <svg viewBox="0 0 532 532">
		    <path id="heart" transform="translate(10, 10)" d="M256,96.5l-19.7-20.3C186.1,24.3,104.5,15.9,49.7,62.6c-62.8,53.6-66.1,149.8-9.9,207.9l193.5,199.8 c12.5,12.9,32.8,12.9,45.3,0l193.5-199.8c56.3-58.1,53-154.3-9.8-207.9l0,0C407.5,15.9,326,24.3,275.7,76.2L256,96.5z"/>
		  </svg>
		  <span></span>
		</label>	
	</body>
</html>
